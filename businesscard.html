<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Lyubo's business card</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="styles/styles.css"/>
        <link rel="stylesheet" href="styles/prism-vsc-dark-plus.css" />
        <link rel="stylesheet" href="styles/businesscard.css"/>

        <script src="https://cdn.jsdelivr.net/pyodide/v0.23.0/full/pyodide.js"></script>
    </head>
    <body class="theme-dark">
        <header>
            <nav id="topnav">
                <ul>
                    <!-- Always showing at least "Lyubo Gankov" -->
                    <li class="push-right" id="name">
                        <a class="theme-dark" href="./index.html"><span id="name-english">Lyubo Gankov</span><span id="name-bulgarian"> / –õ—é–±–æ–º–∏—Ä –ì–∞–Ω–∫–æ–≤</span></a>
                    </li>
                    <!-- May appear on same row as main page link, or new row -->
                    <li id="flexible-links">
                        <ul>
                            <li><a class="theme-dark menu-option" href="./about.html">About</a></li>
                            <li><a class="theme-dark menu-option" href="./resume.html">R√©sum√©</a></li>
                            <li><a class="theme-dark menu-option" href="./blog.html">Blog</a></li>
                            <li id="github-header" class="header-footer-socials"><a>
                                <span>
                                    <div>
                                        <img class="logo-github" src="./images/logos/GitHub/github-mark.svg" alt="GitHub Invertocat logo"/>
                                    </div>
                                </span>
                            </a></li>
                            <li id="linkedin-header" class="header-footer-socials"><a>
                                <div>
                                    <img 
                                        srcset="./images/logos/LinkedIn/Blue/1x/In-Blue-34-TM.png,
                                                ./images/logos/LinkedIn/Blue/1x/In-Blue-48-TM.png 1.4x, 
                                                ./images/logos/LinkedIn/Blue/1x/In-Blue-72-TM.png 2.1x"
                                        src="./images/logos/LinkedIn/White/1x/In-Blue-34-TM.png"
                                        alt="LinkedIn logo"/>
                                </div>
                            </a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </header>
        <main>
            <!-- Guides I followed:
            https://pyodide.org/en/stable/usage/quickstart.html#alternative-example
            https://medium.com/codex/python-in-web-easy-5f7de3813055-->
            <section id="businesscard-code">
                <pre><code id="input" class="language-python">U_TO_B, CHAR_MAP = {}, {f'{i:03b}' : c 
    for i, c in enumerate(['\n', '\\', '/', 'O', '(', ')', ' ', '_'])}
for start, end, codepointoffset in [(0, 26, 0x41), (26, 52, 0x61), 
        (52, 116, 0x410), (116, 195, 0x3041), (195, 274, 0x30A1)]:
    for b in range(start, end):
        U_TO_B[b + codepointoffset - start] = b

def decode(bin: str, bchr: int=3, btot: int=6) -> str:
    b = ''.join(f'{U_TO_B[ord(c)]:08b}' for c in bin)
    return ''.join(
        CHAR_MAP[b[i:i+bchr]] * (int(b[i+bchr:i+btot], 2) + 1)
            for i in range(0, len(b), btot))

print(decode('HOx„ÉÅu—è„ÉÅgQ„Çè„ÅïwjIx„Å∞UwjQo„Ç°„Å©g„Ç§„Åïyj„ÅëxA„Åõo„Åê„Åëw„Åê„Åßx„Åê„Åóx'))
# Run me at lyubogankov.dev/businesscard :)</code></pre>  
                
                <div id="output-box">

                    <!-- https://codepen.io/kaista/pen/WxqGBq, by Kaitlyn Stahl -->
                    <div id="play-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="7rem">
                            <polygon class="play-btn__svg" points="9.33 6.69 9.33 19.39 19.3 13.04 9.33 6.69"/>
                        </svg> 
                    </div>
    
                    <!-- This is where the pyodide output goes! -->
                    <div id="output"><pre></pre></div>
                </div>

            </section>
            <section id="businesscard-explanation">
                <h1>Encoding</h1>
                <h2>text / character run-length </h2>
                <h2>char run-len / binary</h2>
                <h2>binary / Unicode</h2>
            </section>
        </main>
        <script src="./scripts/prism.js"></script>
        <script src="./scripts/businesscard.js"></script>
    </body>
    <footer>
        <ul id="connect">
            <li id="github-footer">
                <a class="theme-dark" href="https://github.com/lyubogankov" target="_blank" referrerpolicy="no-referrer">
                    <!-- https://github.com/logos -->
                    <!-- <span>
                        <div>
                            <img src="./images/logos/GitHub/github-mark.svg" alt="GitHub Invertocat logo"/>
                        </div>
                    </span> -->
                    <div>
                        <img class="logo-github" src="./images/logos/GitHub/github-mark-white.svg" alt="GitHub Invertocat logo"/>
                    </div>
                    <h2>peruse projects üëÄ</h2>
                </a>
            </li>
            <li id="linkedin">
                <a class="theme-dark" href="https://linkedin.com/in/lyubo-gankov" target="_blank" referrerpolicy="no-referrer">
                    <!-- https://brand.linkedin.com/content/brand/global/en_us/index/visual-identity/logo -->
                    <div>
                        <!-- <img src="./images/logos/LinkedIn/Blue/1x/In-Blue-34-TM.png" alt="LinkedIn logo"/> -->
                        <img 
                            srcset="./images/logos/LinkedIn/White/1x/In-White-34-TM.png,
                                    ./images/logos/LinkedIn/White/1x/In-White-48-TM.png 1.4x, 
                                    ./images/logos/LinkedIn/White/1x/In-White-72-TM.png 2.1x"
                            src="./images/logos/LinkedIn/White/1x/In-White-34-TM.png"
                            alt="LinkedIn logo"/>
                    </div>
                    <h2>let's connect!</h2>
                </a> 
            </li>
        </ul>
    </footer>
<html>